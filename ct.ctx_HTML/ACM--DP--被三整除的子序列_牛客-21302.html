<!doctype html><html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>被三整除的子序列 牛客-21302</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="styles.css" type="text/css" />
</head>
<body><div class="main"><div class="tree">
<p><strong>Index</strong></p>
<p><a href="2019.html">2019</a></p>

<ol>
<li><a href="2019--March.html">March</a></li>
<ol>
<li><a href="2019--March--11_Mon.html">11 Mon</a></li>
<li><a href="2019--March--12.html">12</a></li>
<li><a href="2019--March--13.html">13</a></li>
<li><a href="2019--March--14.html">14</a></li>
<li><a href="2019--March--15.html">15</a></li>
<li><a href="2019--March--16_Sat.html">16 Sat</a></li>
<li><a href="2019--March--17_Sun.html">17 Sun</a></li>
<li><a href="2019--March--19.html">19</a></li>
<li><a href="2019--March--20_Wed.html">20 Wed</a></li>
<li><a href="2019--March--21_Thu.html">21 Thu</a></li>
<li><a href="2019--March--22_Fri.html">22 Fri</a></li>
<li><a href="2019--March--23_Sat.html">23 Sat</a></li>
<li><a href="2019--March--24_Sun.html">24 Sun</a></li>
<li><a href="2019--March--25_Mon.html">25 Mon</a></li>
<li><a href="2019--March--26_Tue.html">26 Tue</a></li>
<li><a href="2019--March--27_Wed.html">27 Wed</a></li>
<li><a href="2019--March--29_Fri.html">29 Fri</a></li>
<li><a href="2019--March--31_Sun.html">31 Sun</a></li>
</ol>
<li><a href="2019--April.html">April</a></li>
<ol>
<li><a href="2019--April--01_Mon.html">01 Mon</a></li>
<li><a href="2019--April--08_Mon.html">08 Mon</a></li>
<li><a href="2019--April--09_Tue.html">09 Tue</a></li>
<li><a href="2019--April--10_Wed.html">10 Wed</a></li>
<li><a href="2019--April--11_Thu.html">11 Thu</a></li>
<li><a href="2019--April--12_Fri.html">12 Fri</a></li>
<li><a href="2019--April--13_Sat.html">13 Sat</a></li>
<li><a href="2019--April--14_Sun.html">14 Sun</a></li>
<li><a href="2019--April--15_Mon.html">15 Mon</a></li>
<li><a href="2019--April--16_Tue.html">16 Tue</a></li>
<li><a href="2019--April--17_Wed.html">17 Wed</a></li>
<li><a href="2019--April--19_Fri.html">19 Fri</a></li>
<li><a href="2019--April--20_Sat.html">20 Sat</a></li>
<li><a href="2019--April--21_Sun.html">21 Sun</a></li>
<li><a href="2019--April--23_Tue.html">23 Tue</a></li>
<li><a href="2019--April--26_Fri.html">26 Fri</a></li>
<li><a href="2019--April--27_Sat.html">27 Sat</a></li>
<li><a href="2019--April--28_Sun.html">28 Sun</a></li>
</ol>
<li><a href="2019--May.html">May</a></li>
<ol>
<li><a href="2019--May--04_Sat.html">04 Sat</a></li>
<li><a href="2019--May--06_Mon.html">06 Mon</a></li>
<li><a href="2019--May--07_Tue.html">07 Tue</a></li>
<li><a href="2019--May--08_Wed.html">08 Wed</a></li>
<li><a href="2019--May--09_Thu.html">09 Thu</a></li>
<li><a href="2019--May--10_Fri.html">10 Fri</a></li>
</ol>
</ol>
<p><a href="ACM.html">ACM</a></p>

<ol>
<li><a href="ACM--大整数.html">大整数</a></li>
<li><a href="ACM--DP.html">DP</a></li>
<ol>
<li><a href="ACM--DP--UVA12563.html">UVA12563</a></li>
<li><a href="ACM--DP--UVA11400.html">UVA11400</a></li>
<li><a href="ACM--DP--UVA11584.html">UVA11584</a></li>
<li><a href="ACM--DP--UVA1625.html">UVA1625</a></li>
<li><a href="ACM--DP--被三整除的子序列_牛客-21302.html">被三整除的子序列 牛客-21302</a></li>
<li><a href="ACM--DP--help_jimmy_poj-1661.html">help jimmy poj-1661</a></li>
<li><a href="ACM--DP--LCS_poj-1458.html">LCS poj-1458</a></li>
<li><a href="ACM--DP--Jury_compromise_poj-1015.html">Jury compromise poj-1015</a></li>
</ol>
<li><a href="ACM--图.html">图</a></li>
<li><a href="ACM--线段树.html">线段树</a></li>
<li><a href="ACM--数论.html">数论</a></li>
<li><a href="ACM--其他.html">其他</a></li>
<li><a href="ACM--2019年ccpc校选赛.html">2019年ccpc校选赛</a></li>
<li><a href="ACM--Codeforces_Round_~554_(Div._2).html">Codeforces Round #554 (Div. 2)</a></li>
</ol>
<p><a href="PWN.html">PWN</a></p>

<ol>
<li><a href="PWN--从0开始认识.html">从0开始认识</a></li>
<li><a href="PWN--准备工作.html">准备工作</a></li>
<li><a href="PWN--扫描和嗅探.html">扫描和嗅探</a></li>
</ol>
<p><a href="web前端.html">web前端</a></p>

<ol>
<li><a href="web前端--HTML.html">HTML</a></li>
<ol>
<li><a href="web前端--HTML--表单类.html">表单类</a></li>
<li><a href="web前端--HTML--表格.html">表格</a></li>
</ol>
<li><a href="web前端--CSS.html">CSS</a></li>
<ol>
<li><a href="web前端--CSS--语法.html">语法</a></li>
<li><a href="web前端--CSS--CSS创建.html">CSS创建</a></li>
<li><a href="web前端--CSS--backgrounds背景.html">backgrounds背景</a></li>
<li><a href="web前端--CSS--Text文本.html">Text文本</a></li>
<li><a href="web前端--CSS--fonts字体.html">fonts字体</a></li>
<li><a href="web前端--CSS--Border边框.html">Border边框</a></li>
<li><a href="web前端--CSS--表格边框.html">表格边框</a></li>
</ol>
</ol>
<p><a href="后端开发.html">后端开发</a></p>

<ol>
<li><a href="后端开发--Java.html">Java</a></li>
<ol>
<li><a href="后端开发--Java--安装和使用.html">安装和使用</a></li>
<li><a href="后端开发--Java--装箱和拆箱.html">装箱和拆箱</a></li>
<li><a href="后端开发--Java--字符串.html">字符串</a></li>
<li><a href="后端开发--Java--继承.html">继承</a></li>
<li><a href="后端开发--Java--异常处理.html">异常处理</a></li>
</ol>
<li><a href="后端开发--C++.html">C++</a></li>
<ol>
<li><a href="后端开发--C++--类.html">类</a></li>
<li><a href="后端开发--C++--运算符重载.html">运算符重载</a></li>
<li><a href="后端开发--C++--数据结构.html">数据结构</a></li>
</ol>
</ol>
<p><a href="Linux运维.html">Linux运维</a></p>

<ol>
<li><a href="Linux运维--shortcuts.html">shortcuts</a></li>
<ol>
<li><a href="Linux运维--shortcuts--vim.html">vim</a></li>
<li><a href="Linux运维--shortcuts--linux_terminal.html">linux terminal</a></li>
<li><a href="Linux运维--shortcuts--xfceThunar.html">xfceThunar</a></li>
<li><a href="Linux运维--shortcuts--rar.html">rar</a></li>
</ol>
<li><a href="Linux运维--安装virtualbox虚拟机.html">安装virtualbox虚拟机</a></li>
<li><a href="Linux运维--安装TIM.html">安装TIM</a></li>
<li><a href="Linux运维--使用shadowsocks-qt5.html">使用shadowsocks-qt5</a></li>
<li><a href="Linux运维--文件管理方法修改.html">文件管理方法修改</a></li>
<li><a href="Linux运维--firefox_update_and_adds-on_can't_use.html">firefox update and adds-on can't use</a></li>
</ol>
<p><a href="云计算和大数据.html">云计算和大数据</a></p>

<p><a href="数据库.html">数据库</a></p>

<ol>
<li><a href="数据库--Mariadb.html">Mariadb</a></li>
</ol>
<p><a href="信息安全.html">信息安全</a></p>

<p><a href="其他技术.html">其他技术</a></p>

<p><a href="Git.html">Git</a></p>

<p><a href="JavaWeb.html">JavaWeb</a></p>

<ol>
<li><a href="JavaWeb--Web前端.html">Web前端</a></li>
<ol>
<li><a href="JavaWeb--Web前端--HTML.html">HTML</a></li>
<li><a href="JavaWeb--Web前端--CSS.html">CSS</a></li>
</ol>
<li><a href="JavaWeb--Web后台.html">Web后台</a></li>
<ol>
<li><a href="JavaWeb--Web后台--session.html">session</a></li>
<li><a href="JavaWeb--Web后台--JSP.html">JSP</a></li>
<ol>
<li><a href="JavaWeb--Web后台--JSP--JSP语法.html">JSP语法</a></li>
</ol>
<li><a href="JavaWeb--Web后台--开发环境安装及配置.html">开发环境安装及配置</a></li>
<li><a href="JavaWeb--Web后台--JDBC数据库连接.html">JDBC数据库连接</a></li>
<li><a href="JavaWeb--Web后台--数据库连接池.html">数据库连接池</a></li>
<li><a href="JavaWeb--Web后台--CommonsDbUtils类库.html">CommonsDbUtils类库</a></li>
</ol>
<li><a href="JavaWeb--webSocket.html">webSocket</a></li>
</ol></div>
<div class="page"><h1><b><u>被三整除的子序列 牛客-21302</u></b></h1>链接：<a href="https://ac.nowcoder.com/acm/problem/21302">https://ac.nowcoder.com/acm/problem/21302</a><br />来源：牛客网<br /><br /><br /><h2>题目描述   </h2><br />给你一个长度为50的数字串,问你有多少个子序列构成的数字可以被3整除<br /> 答案对1e9+7取模<br /><br /><h2>输入描述:</h2><br />输入一个字符串，由数字构成，长度小于等于50<br /><h2>输出描述:</h2><br />输出一个整数<br /><br />//------------------------------------我是可爱的分割线---------------------------------------------------------------------------<br /><br /><h3>• 解法1:DP (时间好，空间好。。。)</h3><br /><br /><div class="codebox"><div class="codebox"><span style="color:#7f0044;font-weight:700">#include&lt;bits/stdc++.h&gt;</span><br /><span style="color:#ff9d00;font-weight:700">using</span>&nbsp;<span style="color:#ff9d00;font-weight:700">namespace</span>&nbsp;std;<br /><br /><span style="color:#7f0044;font-weight:700">#define&nbsp;ffor(i,&nbsp;a,&nbsp;b)&nbsp;for(int&nbsp;i=(a);&nbsp;i&lt;(b);&nbsp;i++)</span><br /><span style="color:#7f0044;font-weight:400">const</span>&nbsp;<span style="color:#7f0044;font-weight:400">int</span>&nbsp;maxn=<span style="color:#ff0044;font-weight:400">55</span>;<br /><span style="color:#7f0044;font-weight:400">const</span>&nbsp;<span style="color:#7f0044;font-weight:400">int</span>&nbsp;MOD=<span style="color:#ff0044;font-weight:400">1e9</span>+<span style="color:#ff0044;font-weight:400">7</span>;<br /><span style="color:#7f0044;font-weight:400">int</span>&nbsp;d[maxn][<span style="color:#ff0044;font-weight:400">3</span>];<br /><span style="color:#7f0044;font-weight:400">int</span>&nbsp;a[maxn],&nbsp;n;<br /><br /><span style="color:#7f0044;font-weight:400">void</span>&nbsp;Read();<br /><br /><span style="color:#7f0044;font-weight:400">int</span>&nbsp;main(){<br />	Read();<br />	<br />	<span style="color:#ff9d00;font-weight:700">for</span>(<span style="color:#7f0044;font-weight:400">int</span>&nbsp;i=<span style="color:#ff0044;font-weight:400">1</span>;&nbsp;i&lt;=n;&nbsp;i++){<br />		d[i][a[i]%<span style="color:#ff0044;font-weight:400">3</span>]++;<span style="color:#0088ff;font-weight:400">//这个是初始化</span><br />		<span style="color:#ff9d00;font-weight:700">for</span>(<span style="color:#7f0044;font-weight:400">int</span>&nbsp;k=<span style="color:#ff0044;font-weight:400">0</span>;&nbsp;k&lt;<span style="color:#ff0044;font-weight:400">3</span>;&nbsp;k++){<br />			d[i][k]&nbsp;+=&nbsp;(d[i-<span style="color:#ff0044;font-weight:400">1</span>][(k+<span style="color:#ff0044;font-weight:400">3</span>-a[i]%<span style="color:#ff0044;font-weight:400">3</span>)%<span style="color:#ff0044;font-weight:400">3</span>]&nbsp;+&nbsp;d[i-<span style="color:#ff0044;font-weight:400">1</span>][k])%MOD;<span style="color:#0088ff;font-weight:400">//WA两发。。</span><br />		}<br />	}<br />	cout&nbsp;&lt;&lt;d[n][<span style="color:#ff0044;font-weight:400">0</span>];<br />	<span style="color:#ff9d00;font-weight:700">return</span>&nbsp;<span style="color:#ff0044;font-weight:400">0</span>;<br />}<br /><span style="color:#7f0044;font-weight:400">void</span>&nbsp;Read(){<br />	<span style="color:#7f0044;font-weight:400">char</span>&nbsp;c=&nbsp;getchar();<br />	<span style="color:#ff9d00;font-weight:700">while</span>(isdigit(c)){<br />		a[++n]&nbsp;=&nbsp;c-<span style="color:#00117f;font-weight:400">'0'</span>,&nbsp;c=getchar();<br />	}<br />}</div></div><br /><br /><br /><h3>• 解法2:DP 2</h3><br /><br /><br />d[i][j] = d[i-1][j] + d[i-1][j -a[i]]<br />d[j] += d[j-a[i]]<br /><br />意义是：前i个数字，子序列的各位之和为j 的个数。<br />d[len] :所有数字，子序列的可能的和 为1..sum的个数，最后筛出为3的倍数的就好了<br /><div class="codebox"><div class="codebox"><span style="color:#7f0044;font-weight:700">#include&lt;bits/stdc++.h&gt;</span><br /><span style="color:#ff9d00;font-weight:700">using</span>&nbsp;<span style="color:#ff9d00;font-weight:700">namespace</span>&nbsp;std;<br /><br /><span style="color:#7f0044;font-weight:700">#define&nbsp;ffor(i,&nbsp;a,&nbsp;b)&nbsp;for(int&nbsp;i&nbsp;=&nbsp;(a);&nbsp;i&lt;(b);&nbsp;i++)</span><br /><span style="color:#ff9d00;font-weight:700">typedef</span>&nbsp;<span style="color:#7f0044;font-weight:400">long</span>&nbsp;<span style="color:#7f0044;font-weight:400">long</span>&nbsp;ll;<br /><span style="color:#7f0044;font-weight:400">const</span>&nbsp;<span style="color:#7f0044;font-weight:400">int</span>&nbsp;MOD=<span style="color:#ff0044;font-weight:400">1e9</span>+<span style="color:#ff0044;font-weight:400">7</span>;<br /><span style="color:#7f0044;font-weight:400">const</span>&nbsp;<span style="color:#7f0044;font-weight:400">int</span>&nbsp;maxn=<span style="color:#ff0044;font-weight:400">460</span>;<br />ll&nbsp;a[<span style="color:#ff0044;font-weight:400">55</span>],&nbsp;d[<span style="color:#ff0044;font-weight:400">450</span>],&nbsp;len,&nbsp;sum;<br /><br /><span style="color:#7f0044;font-weight:400">void</span>&nbsp;Read(){<br />	<span style="color:#7f0044;font-weight:400">char</span>&nbsp;c&nbsp;=&nbsp;getchar();<br />	<span style="color:#ff9d00;font-weight:700">while</span>(isdigit(c)){<br />		a[++len]&nbsp;=&nbsp;c-<span style="color:#00117f;font-weight:400">'0'</span>&nbsp;,&nbsp;c=getchar();<br />		sum+=a[len];<br />	}<br />}<br /><br /><span style="color:#7f0044;font-weight:400">int</span>&nbsp;main(){<br />	Read();<br /><br />	d[a[<span style="color:#ff0044;font-weight:400">1</span>]]++;<br />	<span style="color:#ff9d00;font-weight:700">for</span>(<span style="color:#7f0044;font-weight:400">int</span>&nbsp;i=<span style="color:#ff0044;font-weight:400">2</span>;&nbsp;i&lt;=len;&nbsp;i++){<br />		<span style="color:#ff9d00;font-weight:700">for</span>(<span style="color:#7f0044;font-weight:400">int</span>&nbsp;j=sum;&nbsp;j&gt;=a[i];&nbsp;j--){<br />			<span style="color:#ff9d00;font-weight:700">if</span>(d[j-a[i]]&nbsp;&gt;&nbsp;<span style="color:#ff0044;font-weight:400">0</span>)&nbsp;d[j]+=d[j-a[i]];<br />		}<br />		d[a[i]]++;<br />	}<br />	ll&nbsp;ans=&nbsp;<span style="color:#ff0044;font-weight:400">0</span>;<br />	<span style="color:#ff9d00;font-weight:700">for</span>(<span style="color:#7f0044;font-weight:400">int</span>&nbsp;i=<span style="color:#ff0044;font-weight:400">0</span>;&nbsp;i&lt;=sum;&nbsp;i+=<span style="color:#ff0044;font-weight:400">3</span>){<br />		ans&nbsp;=&nbsp;(ans+d[i])%MOD;<br />	}<br />	cout&nbsp;&lt;&lt;ans;<br />	<span style="color:#ff9d00;font-weight:700">return</span>&nbsp;<span style="color:#ff0044;font-weight:400">0</span>;<br />}<br /><span style="color:#0088ff;font-weight:400">//怎么判断子序列可以被3整除？&nbsp;--和是三的倍数</span><br /><span style="color:#0088ff;font-weight:400">//d[i]可以确定前几个数字取不取，但是无法确定是否是3的倍数。</span><br /><span style="color:#0088ff;font-weight:400">//不如直接设成&nbsp;d[i][j],&nbsp;j是选取数字的和</span><br /><span style="color:#0088ff;font-weight:400">//如果不选，则d[i][j]&nbsp;=&nbsp;d[i-1][j];</span><br /><span style="color:#0088ff;font-weight:400">//否则,d[i][j]&nbsp;=&nbsp;d[i-1][j-a[i]];</span><br /><span style="color:#0088ff;font-weight:400">//化简一下就是&nbsp;：d[j]&nbsp;+=&nbsp;d[j-a[i]];</span><br /><span style="color:#0088ff;font-weight:400">//边界？？&nbsp;j&lt;=450&nbsp;&amp;&amp;&nbsp;j&gt;=0;&nbsp;d[0]&nbsp;=&nbsp;1;</span><br /><span style="color:#0088ff;font-weight:400">//</span><br /><span style="color:#0088ff;font-weight:400">//不对，状态转移方程，完全不对啊！！！</span><br /><span style="color:#0088ff;font-weight:400">//</span><br /><span style="color:#0088ff;font-weight:400">//直接一个一个来？</span><br /><span style="color:#0088ff;font-weight:400">//d[i]&nbsp;=&nbsp;d[i-1];</span><br /><span style="color:#0088ff;font-weight:400">//不行，必须是上面的思路，不然，和无法处理</span><br /><span style="color:#0088ff;font-weight:400">//d[i][i]&nbsp;-&gt;&nbsp;前i个数字中，子序列中&nbsp;各位和为j&nbsp;的个数</span><br /></div></div>不对，讲道理，虽然看起来很假@，但是也是个DP吧！</div></div>
</body></html>