<!doctype html><html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>help jimmy poj-1661</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="styles.css" type="text/css" />
</head>
<body><div class="main"><div class="tree">
<p><strong>Index</strong></p>
<p><a href="2019.html">2019</a></p>

<ol>
<li><a href="2019--March.html">March</a></li>
<ol>
<li><a href="2019--March--11_Mon.html">11 Mon</a></li>
<li><a href="2019--March--12.html">12</a></li>
<li><a href="2019--March--13.html">13</a></li>
<li><a href="2019--March--14.html">14</a></li>
<li><a href="2019--March--15.html">15</a></li>
<li><a href="2019--March--16_Sat.html">16 Sat</a></li>
<li><a href="2019--March--17_Sun.html">17 Sun</a></li>
<li><a href="2019--March--19.html">19</a></li>
<li><a href="2019--March--20_Wed.html">20 Wed</a></li>
<li><a href="2019--March--21_Thu.html">21 Thu</a></li>
<li><a href="2019--March--22_Fri.html">22 Fri</a></li>
<li><a href="2019--March--23_Sat.html">23 Sat</a></li>
<li><a href="2019--March--24_Sun.html">24 Sun</a></li>
<li><a href="2019--March--25_Mon.html">25 Mon</a></li>
<li><a href="2019--March--26_Tue.html">26 Tue</a></li>
<li><a href="2019--March--27_Wed.html">27 Wed</a></li>
<li><a href="2019--March--29_Fri.html">29 Fri</a></li>
<li><a href="2019--March--31_Sun.html">31 Sun</a></li>
</ol>
<li><a href="2019--April.html">April</a></li>
<ol>
<li><a href="2019--April--01_Mon.html">01 Mon</a></li>
<li><a href="2019--April--08_Mon.html">08 Mon</a></li>
<li><a href="2019--April--09_Tue.html">09 Tue</a></li>
<li><a href="2019--April--10_Wed.html">10 Wed</a></li>
<li><a href="2019--April--11_Thu.html">11 Thu</a></li>
<li><a href="2019--April--12_Fri.html">12 Fri</a></li>
<li><a href="2019--April--13_Sat.html">13 Sat</a></li>
<li><a href="2019--April--14_Sun.html">14 Sun</a></li>
<li><a href="2019--April--15_Mon.html">15 Mon</a></li>
<li><a href="2019--April--16_Tue.html">16 Tue</a></li>
<li><a href="2019--April--17_Wed.html">17 Wed</a></li>
<li><a href="2019--April--19_Fri.html">19 Fri</a></li>
<li><a href="2019--April--20_Sat.html">20 Sat</a></li>
<li><a href="2019--April--21_Sun.html">21 Sun</a></li>
<li><a href="2019--April--23_Tue.html">23 Tue</a></li>
<li><a href="2019--April--26_Fri.html">26 Fri</a></li>
<li><a href="2019--April--27_Sat.html">27 Sat</a></li>
<li><a href="2019--April--28_Sun.html">28 Sun</a></li>
</ol>
<li><a href="2019--May.html">May</a></li>
<ol>
<li><a href="2019--May--04_Sat.html">04 Sat</a></li>
<li><a href="2019--May--06_Mon.html">06 Mon</a></li>
<li><a href="2019--May--07_Tue.html">07 Tue</a></li>
<li><a href="2019--May--08_Wed.html">08 Wed</a></li>
<li><a href="2019--May--09_Thu.html">09 Thu</a></li>
<li><a href="2019--May--10_Fri.html">10 Fri</a></li>
</ol>
</ol>
<p><a href="ACM.html">ACM</a></p>

<ol>
<li><a href="ACM--大整数.html">大整数</a></li>
<li><a href="ACM--DP.html">DP</a></li>
<ol>
<li><a href="ACM--DP--UVA12563.html">UVA12563</a></li>
<li><a href="ACM--DP--UVA11400.html">UVA11400</a></li>
<li><a href="ACM--DP--UVA11584.html">UVA11584</a></li>
<li><a href="ACM--DP--UVA1625.html">UVA1625</a></li>
<li><a href="ACM--DP--被三整除的子序列_牛客-21302.html">被三整除的子序列 牛客-21302</a></li>
<li><a href="ACM--DP--help_jimmy_poj-1661.html">help jimmy poj-1661</a></li>
<li><a href="ACM--DP--LCS_poj-1458.html">LCS poj-1458</a></li>
<li><a href="ACM--DP--Jury_compromise_poj-1015.html">Jury compromise poj-1015</a></li>
</ol>
<li><a href="ACM--图.html">图</a></li>
<li><a href="ACM--线段树.html">线段树</a></li>
<li><a href="ACM--数论.html">数论</a></li>
<li><a href="ACM--其他.html">其他</a></li>
<li><a href="ACM--2019年ccpc校选赛.html">2019年ccpc校选赛</a></li>
<li><a href="ACM--Codeforces_Round_~554_(Div._2).html">Codeforces Round #554 (Div. 2)</a></li>
</ol>
<p><a href="PWN.html">PWN</a></p>

<ol>
<li><a href="PWN--从0开始认识.html">从0开始认识</a></li>
<li><a href="PWN--准备工作.html">准备工作</a></li>
<li><a href="PWN--扫描和嗅探.html">扫描和嗅探</a></li>
</ol>
<p><a href="web前端.html">web前端</a></p>

<ol>
<li><a href="web前端--HTML.html">HTML</a></li>
<ol>
<li><a href="web前端--HTML--表单类.html">表单类</a></li>
<li><a href="web前端--HTML--表格.html">表格</a></li>
</ol>
<li><a href="web前端--CSS.html">CSS</a></li>
<ol>
<li><a href="web前端--CSS--语法.html">语法</a></li>
<li><a href="web前端--CSS--CSS创建.html">CSS创建</a></li>
<li><a href="web前端--CSS--backgrounds背景.html">backgrounds背景</a></li>
<li><a href="web前端--CSS--Text文本.html">Text文本</a></li>
<li><a href="web前端--CSS--fonts字体.html">fonts字体</a></li>
<li><a href="web前端--CSS--Border边框.html">Border边框</a></li>
<li><a href="web前端--CSS--表格边框.html">表格边框</a></li>
</ol>
</ol>
<p><a href="后端开发.html">后端开发</a></p>

<ol>
<li><a href="后端开发--Java.html">Java</a></li>
<ol>
<li><a href="后端开发--Java--安装和使用.html">安装和使用</a></li>
<li><a href="后端开发--Java--装箱和拆箱.html">装箱和拆箱</a></li>
<li><a href="后端开发--Java--字符串.html">字符串</a></li>
<li><a href="后端开发--Java--继承.html">继承</a></li>
<li><a href="后端开发--Java--异常处理.html">异常处理</a></li>
</ol>
<li><a href="后端开发--C++.html">C++</a></li>
<ol>
<li><a href="后端开发--C++--类.html">类</a></li>
<li><a href="后端开发--C++--运算符重载.html">运算符重载</a></li>
<li><a href="后端开发--C++--数据结构.html">数据结构</a></li>
</ol>
</ol>
<p><a href="Linux运维.html">Linux运维</a></p>

<ol>
<li><a href="Linux运维--shortcuts.html">shortcuts</a></li>
<ol>
<li><a href="Linux运维--shortcuts--vim.html">vim</a></li>
<li><a href="Linux运维--shortcuts--linux_terminal.html">linux terminal</a></li>
<li><a href="Linux运维--shortcuts--xfceThunar.html">xfceThunar</a></li>
<li><a href="Linux运维--shortcuts--rar.html">rar</a></li>
</ol>
<li><a href="Linux运维--安装virtualbox虚拟机.html">安装virtualbox虚拟机</a></li>
<li><a href="Linux运维--安装TIM.html">安装TIM</a></li>
<li><a href="Linux运维--使用shadowsocks-qt5.html">使用shadowsocks-qt5</a></li>
<li><a href="Linux运维--文件管理方法修改.html">文件管理方法修改</a></li>
<li><a href="Linux运维--firefox_update_and_adds-on_can't_use.html">firefox update and adds-on can't use</a></li>
</ol>
<p><a href="云计算和大数据.html">云计算和大数据</a></p>

<p><a href="数据库.html">数据库</a></p>

<ol>
<li><a href="数据库--Mariadb.html">Mariadb</a></li>
</ol>
<p><a href="信息安全.html">信息安全</a></p>

<p><a href="其他技术.html">其他技术</a></p>

<p><a href="Git.html">Git</a></p>

<p><a href="JavaWeb.html">JavaWeb</a></p>

<ol>
<li><a href="JavaWeb--Web前端.html">Web前端</a></li>
<ol>
<li><a href="JavaWeb--Web前端--HTML.html">HTML</a></li>
<li><a href="JavaWeb--Web前端--CSS.html">CSS</a></li>
</ol>
<li><a href="JavaWeb--Web后台.html">Web后台</a></li>
<ol>
<li><a href="JavaWeb--Web后台--session.html">session</a></li>
<li><a href="JavaWeb--Web后台--JSP.html">JSP</a></li>
<ol>
<li><a href="JavaWeb--Web后台--JSP--JSP语法.html">JSP语法</a></li>
</ol>
<li><a href="JavaWeb--Web后台--开发环境安装及配置.html">开发环境安装及配置</a></li>
<li><a href="JavaWeb--Web后台--JDBC数据库连接.html">JDBC数据库连接</a></li>
<li><a href="JavaWeb--Web后台--数据库连接池.html">数据库连接池</a></li>
<li><a href="JavaWeb--Web后台--CommonsDbUtils类库.html">CommonsDbUtils类库</a></li>
</ol>
<li><a href="JavaWeb--webSocket.html">webSocket</a></li>
</ol></div>
<div class="page"><h1><b><u>help jimmy poj-1661</u></b></h1>problem: <a href="http://poj.org/problem?id=1661">http://poj.org/problem?id=1661</a><br /><br /><h2>重点：</h2><br /><h3>• 想到了dp的表达式，但是不会写状态转移方程：</h3><br />   ◇ 问题和子问题，在本题中，就是 <strong><span style="color:#ff0000;">当前解 = （子问题解 + 左右位移）</span></strong>。而位移可以用 端点的差 来运算！<br /><h3>• 不会代码实现</h3><br />   ◇ 在明白转移方程以后写起来，更清楚<br />   ◇ 一般可以使用 <strong><span style="color:#ff0000;">递归、递推！两种形式，套</span></strong>！！<br /><h3>• </h3><em><h3>忽视了题目关键限制条件!</h3></em><h3> (get WA here)<br /></h3>   ◇ 就算是直接跳到了地上，也有可能会摔死！所以判断摔死 必须放在 判断是否直接跳到地上 之前<br /><br /><div class="codebox"><div class="codebox"><span style="color:#0088ff;font-weight:400">//help&nbsp;Jimmy!</span><br /><span style="color:#0088ff;font-weight:400">//求到地面的最早时间，不能摔死！</span><br /><span style="color:#0088ff;font-weight:400">//时间的影响因素：下落（时间就是高度!）&nbsp;+&nbsp;跑动</span><br /><span style="color:#0088ff;font-weight:400">//而影响只有一个：在一个平台上&nbsp;向左还是向右?</span><br /><span style="color:#0088ff;font-weight:400">//按高度排序，然后d[maxn][2]：第i块向左，向右的时间</span><br /><span style="color:#0088ff;font-weight:400">//无法到达，则为INF</span><br /><span style="color:#0088ff;font-weight:400">//不对，应该是：d[maxn]：到达第i块所用最小时间</span><br /><span style="color:#0088ff;font-weight:400">//添加一块&nbsp;-20000,&nbsp;20000,&nbsp;0为地板</span><br /><span style="color:#0088ff;font-weight:400">//ans&nbsp;:&nbsp;d[n+1];</span><br /><span style="color:#0088ff;font-weight:400">//d[i+1]&nbsp;=&nbsp;d[i]</span><br /><span style="color:#0088ff;font-weight:400">//</span><br /><span style="color:#0088ff;font-weight:400">//</span><br /><span style="color:#0088ff;font-weight:400">//如果我知道一个板子，从左端落地近，还是右端落地近，那么问题就解决了！！1</span><br /><span style="color:#0088ff;font-weight:400">//我的思路是对的！！！为什么没有做下去呢？！还是不会变成代码的形式！</span><br /><span style="color:#0088ff;font-weight:400">//还有就是没有想到，跑动距离可以化成&nbsp;L(k)&nbsp;-&nbsp;R(m)&nbsp;的形式</span><br /><span style="color:#0088ff;font-weight:400">//</span><br /><span style="color:#0088ff;font-weight:400">//</span><br /><span style="color:#0088ff;font-weight:400">//if(到下一个板子的距离&nbsp;大于&nbsp;MAX)</span><br /><span style="color:#0088ff;font-weight:400">//	d[i][x]&nbsp;=&nbsp;0;</span><br /><span style="color:#0088ff;font-weight:400">//else&nbsp;d[i][x]&nbsp;+=&nbsp;</span><br /><span style="color:#0088ff;font-weight:400">//</span><br /><span style="color:#0088ff;font-weight:400">//不行，直接用递归!</span><br /><span style="color:#0088ff;font-weight:400">//int&nbsp;dp(int&nbsp;k,&nbsp;bool&nbsp;left){</span><br /><span style="color:#0088ff;font-weight:400">//	if(k==n)&nbsp;return&nbsp;0;</span><br /><span style="color:#0088ff;font-weight:400">//</span><br /><span style="color:#0088ff;font-weight:400">//	int&nbsp;m=k+1;</span><br /><span style="color:#0088ff;font-weight:400">//	int&nbsp;x&nbsp;=&nbsp;left?L(k):R(k);</span><br /><span style="color:#0088ff;font-weight:400">//		</span><br /><span style="color:#0088ff;font-weight:400">//		for(;m&lt;=n;&nbsp;m++){</span><br /><span style="color:#0088ff;font-weight:400">//			if(L(m)&nbsp;&lt;=x&nbsp;&amp;&amp;&nbsp;R(m)&nbsp;&gt;=&nbsp;x)&nbsp;break;</span><br /><span style="color:#0088ff;font-weight:400">//		}</span><br /><span style="color:#0088ff;font-weight:400">//		if(h(k)&nbsp;-&nbsp;h(m)&nbsp;&gt;&nbsp;MAX)&nbsp;return&nbsp;INF;</span><br /><span style="color:#0088ff;font-weight:400">//		if(m&nbsp;==&nbsp;n)&nbsp;return&nbsp;0;</span><br /><span style="color:#0088ff;font-weight:400">//</span><br /><span style="color:#0088ff;font-weight:400">//		return&nbsp;d[k][]&nbsp;=&nbsp;min(dp(m,&nbsp;true)&nbsp;+&nbsp;x-L(m),&nbsp;dp(m,&nbsp;false)&nbsp;+&nbsp;R(m)-x);</span><br /><span style="color:#0088ff;font-weight:400">//}</span><br /><br /><span style="color:#7f0044;font-weight:700">#include&lt;iostream&gt;</span><br /><span style="color:#7f0044;font-weight:700">#include&lt;cstdio&gt;</span><br /><span style="color:#7f0044;font-weight:700">#include&lt;algorithm&gt;</span><br /><span style="color:#7f0044;font-weight:700">#include&lt;cctype&gt;</span><br /><span style="color:#7f0044;font-weight:700">#include&lt;cstring&gt;</span><br /><span style="color:#ff9d00;font-weight:700">using</span>&nbsp;<span style="color:#ff9d00;font-weight:700">namespace</span>&nbsp;std;<br /><br /><span style="color:#7f0044;font-weight:700">#define&nbsp;ffor(i,&nbsp;a,&nbsp;b)&nbsp;for(int&nbsp;i=(a);&nbsp;i&lt;(b);&nbsp;i++)</span><br /><span style="color:#7f0044;font-weight:400">const</span>&nbsp;<span style="color:#7f0044;font-weight:400">int</span>&nbsp;INF=<span style="color:#ff0044;font-weight:400">0x3f3f3f3f</span>;<br /><span style="color:#7f0044;font-weight:400">const</span>&nbsp;<span style="color:#7f0044;font-weight:400">int</span>&nbsp;maxn&nbsp;=&nbsp;<span style="color:#ff0044;font-weight:400">1e3</span>+<span style="color:#ff0044;font-weight:400">3</span>;<br /><span style="color:#7f0044;font-weight:400">int</span>&nbsp;N,&nbsp;X,&nbsp;Y,&nbsp;<span style="color:#0088ff;font-weight:700">MAX</span>;<br /><span style="color:#7f0044;font-weight:400">int</span>&nbsp;L[maxn],&nbsp;R[maxn],&nbsp;H[maxn],&nbsp;P[maxn];<br /><span style="color:#7f0044;font-weight:400">int</span>&nbsp;d[maxn][<span style="color:#ff0044;font-weight:400">2</span>];<span style="color:#0088ff;font-weight:400">//0&nbsp;left</span><br /><br /><span style="color:#7f0044;font-weight:400">void</span>&nbsp;Read(<span style="color:#7f0044;font-weight:400">int</span>&nbsp;&amp;p);<br /><span style="color:#7f0044;font-weight:400">bool</span>&nbsp;cmp(<span style="color:#7f0044;font-weight:400">int</span>&nbsp;a,&nbsp;<span style="color:#7f0044;font-weight:400">int</span>&nbsp;b);<br /><span style="color:#7f0044;font-weight:400">int</span>&nbsp;dp(<span style="color:#7f0044;font-weight:400">int</span>&nbsp;k,&nbsp;<span style="color:#7f0044;font-weight:400">int</span>&nbsp;left);<br /><br /><span style="color:#7f0044;font-weight:400">int</span>&nbsp;main(){<br />	<span style="color:#7f0044;font-weight:400">int</span>&nbsp;t;&nbsp;cin&nbsp;&gt;&gt;t;<br />	<span style="color:#ff9d00;font-weight:700">while</span>(t--){<br />		memset(d,&nbsp;-<span style="color:#ff0044;font-weight:400">1</span>,&nbsp;<span style="color:#ff9d00;font-weight:700">sizeof</span>&nbsp;d);<br />		Read(N);&nbsp;Read(X);&nbsp;Read(Y);&nbsp;Read(<span style="color:#0088ff;font-weight:700">MAX</span>);<br />		ffor(i,&nbsp;<span style="color:#ff0044;font-weight:400">1</span>,&nbsp;N+<span style="color:#ff0044;font-weight:400">1</span>)&nbsp;{<br />			Read(L[i]);<br />			Read(R[i]);<br />			Read(H[i]);<br />		}<br />		ffor(i,&nbsp;<span style="color:#ff0044;font-weight:400">0</span>,&nbsp;N+<span style="color:#ff0044;font-weight:400">2</span>)&nbsp;P[i]&nbsp;=&nbsp;i;<br />		H[<span style="color:#ff0044;font-weight:400">0</span>]&nbsp;=&nbsp;Y;&nbsp;L[<span style="color:#ff0044;font-weight:400">0</span>]&nbsp;=&nbsp;R[<span style="color:#ff0044;font-weight:400">0</span>]&nbsp;=&nbsp;X;<br />		H[N+<span style="color:#ff0044;font-weight:400">1</span>]=<span style="color:#ff0044;font-weight:400">0</span>;<br /><br />		sort(P+<span style="color:#ff0044;font-weight:400">1</span>,&nbsp;P+N+<span style="color:#ff0044;font-weight:400">1</span>,&nbsp;cmp);<br /><br />		cout&nbsp;&lt;&lt;&nbsp;(dp(<span style="color:#ff0044;font-weight:400">0</span>,&nbsp;<span style="color:#ff0044;font-weight:400">1</span>)&nbsp;+&nbsp;Y)&nbsp;&lt;&lt;endl;<br />	}<br />}<br /><span style="color:#7f0044;font-weight:400">void</span>&nbsp;Read(<span style="color:#7f0044;font-weight:400">int</span>&nbsp;&amp;p){<br />	p=<span style="color:#ff0044;font-weight:400">0</span>;<br />	<span style="color:#7f0044;font-weight:400">int</span>&nbsp;fuhao&nbsp;=<span style="color:#ff0044;font-weight:400">1</span>;<br />	<span style="color:#7f0044;font-weight:400">char</span>&nbsp;c=getchar();<br />	<span style="color:#ff9d00;font-weight:700">while</span>(!isdigit(c)){<br />		<span style="color:#ff9d00;font-weight:700">if</span>(c==<span style="color:#00117f;font-weight:400">'-'</span>)&nbsp;fuhao&nbsp;=&nbsp;-<span style="color:#ff0044;font-weight:400">1</span>;<br />		c=getchar();<br />	}<br />	<span style="color:#ff9d00;font-weight:700">while</span>(isdigit(c)){<br />		p=p*<span style="color:#ff0044;font-weight:400">10</span>+c-<span style="color:#00117f;font-weight:400">'0'</span>,&nbsp;c=getchar();<br />	}<br />	p*=fuhao;<br />}<br /><br /><span style="color:#7f0044;font-weight:400">bool</span>&nbsp;cmp(<span style="color:#7f0044;font-weight:400">int</span>&nbsp;a,&nbsp;<span style="color:#7f0044;font-weight:400">int</span>&nbsp;b){<br />	<span style="color:#ff9d00;font-weight:700">return</span>&nbsp;H[a]&nbsp;&gt;&nbsp;H[b];<br />}<br /><span style="color:#7f0044;font-weight:400">int</span>&nbsp;dp(<span style="color:#7f0044;font-weight:400">int</span>&nbsp;k,&nbsp;<span style="color:#7f0044;font-weight:400">int</span>&nbsp;left){<br />	<span style="color:#7f0044;font-weight:400">int</span>&nbsp;&amp;ans&nbsp;=&nbsp;d[k][left];<br />	<span style="color:#ff9d00;font-weight:700">if</span>(ans&gt;=<span style="color:#ff0044;font-weight:400">0</span>)&nbsp;<span style="color:#ff9d00;font-weight:700">return</span>&nbsp;ans;<br /><br />	<span style="color:#7f0044;font-weight:400">int</span>&nbsp;m=k+<span style="color:#ff0044;font-weight:400">1</span>;<br />	<span style="color:#7f0044;font-weight:400">int</span>&nbsp;x&nbsp;=&nbsp;left?R[P[k]]&nbsp;:&nbsp;L[P[k]];<br />	<span style="color:#ff9d00;font-weight:700">for</span>(;&nbsp;m&lt;=N;&nbsp;m++){<br />		<span style="color:#7f0044;font-weight:400">int</span>&nbsp;t&nbsp;=&nbsp;P[m];<br />		<span style="color:#ff9d00;font-weight:700">if</span>(L[t]&lt;=&nbsp;x&nbsp;&amp;&amp;&nbsp;x&lt;=R[t])&nbsp;<span style="color:#ff9d00;font-weight:700">break</span>;<br />	}<br />	<span style="color:#ff9d00;font-weight:700">if</span>(H[P[k]]&nbsp;-&nbsp;H[P[m]]&nbsp;&gt;&nbsp;<span style="color:#0088ff;font-weight:700">MAX</span>)&nbsp;<span style="color:#ff9d00;font-weight:700">return</span>&nbsp;ans&nbsp;=&nbsp;INF;<span style="color:#0088ff;font-weight:400">//has&nbsp;get&nbsp;WA&nbsp;here!!!</span><br />	<span style="color:#ff9d00;font-weight:700">if</span>(m&nbsp;==&nbsp;N+<span style="color:#ff0044;font-weight:400">1</span>)&nbsp;<span style="color:#ff9d00;font-weight:700">return</span>&nbsp;<span style="color:#ff0044;font-weight:400">0</span>;<br />	<br />	<span style="color:#ff9d00;font-weight:700">return</span>&nbsp;ans&nbsp;=&nbsp;min(dp(m,&nbsp;<span style="color:#ff0044;font-weight:400">0</span>)+x-L[P[m]],&nbsp;dp(m,&nbsp;<span style="color:#ff0044;font-weight:400">1</span>)+R[P[m]]-x);<br />}<br /><br /><span style="color:#0088ff;font-weight:400">//使用递推实现！其实基本一样</span><br /><span style="color:#7f0044;font-weight:700">#include&lt;iostream&gt;</span><br /><span style="color:#7f0044;font-weight:700">#include&lt;cstdio&gt;</span><br /><span style="color:#7f0044;font-weight:700">#include&lt;algorithm&gt;</span><br /><span style="color:#7f0044;font-weight:700">#include&lt;cctype&gt;</span><br /><span style="color:#7f0044;font-weight:700">#include&lt;cstring&gt;</span><br /><span style="color:#ff9d00;font-weight:700">using</span>&nbsp;<span style="color:#ff9d00;font-weight:700">namespace</span>&nbsp;std;<br /><br /><span style="color:#7f0044;font-weight:700">#define&nbsp;ffor(i,&nbsp;a,&nbsp;b)&nbsp;for(int&nbsp;i=(a);&nbsp;i&lt;(b);&nbsp;i++)</span><br /><span style="color:#7f0044;font-weight:400">const</span>&nbsp;<span style="color:#7f0044;font-weight:400">int</span>&nbsp;INF=<span style="color:#ff0044;font-weight:400">0x3f3f3f3f</span>;<br /><span style="color:#7f0044;font-weight:400">const</span>&nbsp;<span style="color:#7f0044;font-weight:400">int</span>&nbsp;maxn&nbsp;=&nbsp;<span style="color:#ff0044;font-weight:400">1e3</span>+<span style="color:#ff0044;font-weight:400">3</span>;<br /><span style="color:#7f0044;font-weight:400">int</span>&nbsp;N,&nbsp;X,&nbsp;Y,&nbsp;<span style="color:#0088ff;font-weight:700">MAX</span>;<br /><span style="color:#7f0044;font-weight:400">int</span>&nbsp;L[maxn],&nbsp;R[maxn],&nbsp;H[maxn],&nbsp;P[maxn];<br /><span style="color:#7f0044;font-weight:400">int</span>&nbsp;d[maxn][<span style="color:#ff0044;font-weight:400">2</span>];<span style="color:#0088ff;font-weight:400">//0&nbsp;left</span><br /><br /><span style="color:#7f0044;font-weight:400">void</span>&nbsp;Read(<span style="color:#7f0044;font-weight:400">int</span>&nbsp;&amp;p);<br /><span style="color:#7f0044;font-weight:400">bool</span>&nbsp;cmp(<span style="color:#7f0044;font-weight:400">int</span>&nbsp;a,&nbsp;<span style="color:#7f0044;font-weight:400">int</span>&nbsp;b);<br /><br /><span style="color:#7f0044;font-weight:400">int</span>&nbsp;main(){<br />	<span style="color:#7f0044;font-weight:400">int</span>&nbsp;t;&nbsp;cin&nbsp;&gt;&gt;t;<br />	<span style="color:#ff9d00;font-weight:700">while</span>(t--){<br />		memset(d,&nbsp;-<span style="color:#ff0044;font-weight:400">1</span>,&nbsp;<span style="color:#ff9d00;font-weight:700">sizeof</span>&nbsp;d);<br />		Read(N);&nbsp;Read(X);&nbsp;Read(Y);&nbsp;Read(<span style="color:#0088ff;font-weight:700">MAX</span>);<br />		ffor(i,&nbsp;<span style="color:#ff0044;font-weight:400">1</span>,&nbsp;N+<span style="color:#ff0044;font-weight:400">1</span>)&nbsp;{<br />			Read(L[i]);<br />			Read(R[i]);<br />			Read(H[i]);<br />		}<br />		ffor(i,&nbsp;<span style="color:#ff0044;font-weight:400">0</span>,&nbsp;N+<span style="color:#ff0044;font-weight:400">2</span>)&nbsp;P[i]&nbsp;=&nbsp;i;<br />		H[<span style="color:#ff0044;font-weight:400">0</span>]&nbsp;=&nbsp;Y;&nbsp;L[<span style="color:#ff0044;font-weight:400">0</span>]&nbsp;=&nbsp;R[<span style="color:#ff0044;font-weight:400">0</span>]&nbsp;=&nbsp;X;<br />		H[N+<span style="color:#ff0044;font-weight:400">1</span>]=<span style="color:#ff0044;font-weight:400">0</span>;<br /><br />		sort(P+<span style="color:#ff0044;font-weight:400">1</span>,&nbsp;P+N+<span style="color:#ff0044;font-weight:400">1</span>,&nbsp;cmp);<br /><br />		<span style="color:#ff9d00;font-weight:700">for</span>(<span style="color:#7f0044;font-weight:400">int</span>&nbsp;i=N;&nbsp;i&gt;=<span style="color:#ff0044;font-weight:400">0</span>;&nbsp;i--){<br />			<span style="color:#ff9d00;font-weight:700">for</span>(<span style="color:#7f0044;font-weight:400">int</span>&nbsp;j=<span style="color:#ff0044;font-weight:400">0</span>;&nbsp;j&lt;<span style="color:#ff0044;font-weight:400">2</span>;&nbsp;j++){<br />				<span style="color:#7f0044;font-weight:400">int</span>&nbsp;&amp;ans&nbsp;=&nbsp;d[i][j];<br /><br />				<span style="color:#7f0044;font-weight:400">int</span>&nbsp;m=i+<span style="color:#ff0044;font-weight:400">1</span>;<br />				<span style="color:#7f0044;font-weight:400">int</span>&nbsp;x=j?R[P[i]]:L[P[i]];<br />				<span style="color:#ff9d00;font-weight:700">for</span>(;&nbsp;m&lt;=N;&nbsp;m++){<br />					<span style="color:#7f0044;font-weight:400">int</span>&nbsp;t&nbsp;=&nbsp;P[m];<br />					<span style="color:#ff9d00;font-weight:700">if</span>(L[t]&lt;=x&nbsp;&amp;&amp;&nbsp;R[t]&gt;=x)&nbsp;<span style="color:#ff9d00;font-weight:700">break</span>;<br />				}<br />				<span style="color:#ff9d00;font-weight:700">if</span>(H[P[i]]&nbsp;-&nbsp;H[P[m]]&nbsp;&gt;&nbsp;<span style="color:#0088ff;font-weight:700">MAX</span>)&nbsp;ans&nbsp;=&nbsp;INF;<br />				<span style="color:#ff9d00;font-weight:700">else</span>&nbsp;<span style="color:#ff9d00;font-weight:700">if</span>(m&nbsp;==&nbsp;N+<span style="color:#ff0044;font-weight:400">1</span>)&nbsp;ans&nbsp;=&nbsp;<span style="color:#ff0044;font-weight:400">0</span>;<br />				<span style="color:#ff9d00;font-weight:700">else</span>&nbsp;ans&nbsp;=&nbsp;min(d[m][<span style="color:#ff0044;font-weight:400">0</span>]+x-L[P[m]],&nbsp;d[m][<span style="color:#ff0044;font-weight:400">1</span>]+R[P[m]]-x);<br />			}<br />		}<br /><br />		cout&nbsp;&lt;&lt;&nbsp;(d[<span style="color:#ff0044;font-weight:400">0</span>][<span style="color:#ff0044;font-weight:400">1</span>]&nbsp;+&nbsp;Y)&nbsp;&lt;&lt;endl;<br />	}<br />}<br /><span style="color:#7f0044;font-weight:400">void</span>&nbsp;Read(<span style="color:#7f0044;font-weight:400">int</span>&nbsp;&amp;p){<br />	p=<span style="color:#ff0044;font-weight:400">0</span>;<br />	<span style="color:#7f0044;font-weight:400">int</span>&nbsp;fuhao&nbsp;=<span style="color:#ff0044;font-weight:400">1</span>;<br />	<span style="color:#7f0044;font-weight:400">char</span>&nbsp;c=getchar();<br />	<span style="color:#ff9d00;font-weight:700">while</span>(!isdigit(c)){<br />		<span style="color:#ff9d00;font-weight:700">if</span>(c==<span style="color:#00117f;font-weight:400">'-'</span>)&nbsp;fuhao&nbsp;=&nbsp;-<span style="color:#ff0044;font-weight:400">1</span>;<br />		c=getchar();<br />	}<br />	<span style="color:#ff9d00;font-weight:700">while</span>(isdigit(c)){<br />		p=p*<span style="color:#ff0044;font-weight:400">10</span>+c-<span style="color:#00117f;font-weight:400">'0'</span>,&nbsp;c=getchar();<br />	}<br />	p*=fuhao;<br />}<br /><br /><span style="color:#7f0044;font-weight:400">bool</span>&nbsp;cmp(<span style="color:#7f0044;font-weight:400">int</span>&nbsp;a,&nbsp;<span style="color:#7f0044;font-weight:400">int</span>&nbsp;b){<br />	<span style="color:#ff9d00;font-weight:700">return</span>&nbsp;H[a]&nbsp;&gt;&nbsp;H[b];<br />}</div></div></div></div>
</body></html>